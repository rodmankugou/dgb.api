
drop table if exists sim_tx;
CREATE TABLE `sim_tx` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `chain_tx_id` bigint NOT NULL,
  `type` tinyint DEFAULT NULL,
  `batch_id` varchar(255) DEFAULT NULL,
  `success_flag` tinyint(1) DEFAULT NULL COMMENT '0-不成功 1-成功',
  `tx_hash` varchar(255) DEFAULT NULL,
  `token_id` varchar(255) DEFAULT NULL COMMENT 'token_id',
  `chain_order_id` varchar(255) DEFAULT NULL,
  `from_address` varchar(255) DEFAULT NULL,
  `contract_address` varchar(255) DEFAULT NULL COMMENT '合约地址',
  `block_height` bigint DEFAULT NULL COMMENT '区块高度',
  `body` varchar(255) DEFAULT NULL,
  `create_time` bigint DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


drop table if exists repeat_process;

CREATE TABLE `repeat_process` (
  `id` bigint NOT NULL AUTO_INCREMENT,
  `token_id` varchar(255) DEFAULT NULL,
  `artwork_id` bigint DEFAULT NULL,
  `auction_record_Id` bigint DEFAULT NULL,
  `is_write_to_chain` tinyint(1) DEFAULT NULL COMMENT '0-否 1-是',
  `status` tinyint DEFAULT NULL COMMENT '0-未处理 1-处理成功 ',
  `type` tinyint DEFAULT NULL COMMENT '1-取消 2-交割 3-确认和交割 4-待用户确认后交割 5-流拍',
  `owner_address` varchar(255) DEFAULT NULL,
  `create_time` bigint DEFAULT NULL COMMENT '重复拍卖处理记录',
  PRIMARY KEY (`id`),
  UNIQUE KEY `auction_record_id_and_status` (`auction_record_Id`,`status`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=39 DEFAULT CHARSET=utf8

