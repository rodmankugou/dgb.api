1、添加字段
ALTER TABLE `artwork`  ADD COLUMN `cur_pending_end_time` bigint COMMENT '当前活动的结束时间' AFTER `cur_quoted_price`, CHANGE COLUMN `last_trade_price` `last_trade_price` decimal(38,18) DEFAULT 0.000000000000000000 COMMENT '上一次交易的价格' AFTER `cur_pending_end_time`, CHANGE COLUMN `title` `title` varchar(2000) DEFAULT NULL COMMENT '标题' AFTER `last_trade_price`, CHANGE COLUMN `remark` `remark` varchar(2000) DEFAULT NULL COMMENT '描述' AFTER `title`, CHANGE COLUMN `image_url` `image_url` varchar(2000) DEFAULT NULL AFTER `remark`, CHANGE COLUMN `mini_image_url` `mini_image_url` varchar(2000) DEFAULT NULL COMMENT '缩略图url' AFTER `image_url`, CHANGE COLUMN `category` `category` varchar(200) DEFAULT NULL AFTER `mini_image_url`, CHANGE COLUMN `token_id` `token_id` varchar(255) DEFAULT NULL COMMENT 'tokenId' AFTER `category`, CHANGE COLUMN `token` `token` varchar(2000) DEFAULT NULL COMMENT '合约地址' AFTER `token_id`, CHANGE COLUMN `img_ipfs_hash` `img_ipfs_hash` varchar(2000) DEFAULT NULL AFTER `token`, CHANGE COLUMN `json_ipfs_hash` `json_ipfs_hash` varchar(2000) DEFAULT NULL AFTER `img_ipfs_hash`, CHANGE COLUMN `tx_hash` `tx_hash` varchar(2000) DEFAULT NULL AFTER `json_ipfs_hash`, CHANGE COLUMN `royalties` `royalties` decimal(38,18) DEFAULT NULL COMMENT '版税' AFTER `tx_hash`, CHANGE COLUMN `royalties_pool` `royalties_pool` decimal(38,18) DEFAULT NULL AFTER `royalties`, CHANGE COLUMN `lock_flag` `lock_flag` tinyint(1) DEFAULT NULL COMMENT '是否owner和author可见' AFTER `royalties_pool`, CHANGE COLUMN `target_address` `target_address` varchar(2000) DEFAULT NULL COMMENT '铸币成功后的发放地址' AFTER `lock_flag`, CHANGE COLUMN `contract_address` `contract_address` varchar(2000) DEFAULT NULL AFTER `target_address`, CHANGE COLUMN `create_time` `create_time` bigint DEFAULT NULL AFTER `contract_address`;

更新后
2、执行sql语句，更新字段值
update artwork aw set cur_pending_end_time = (select ar.auction_end_time from auction_record ar  where ar.id = aw.cur_pending_id) where aw.status = 5;


